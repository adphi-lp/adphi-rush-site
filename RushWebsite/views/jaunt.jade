extends layout

block head
  title='Jaunt'
  link(rel='stylesheet',href=basepath+'/css/vote.css')

block content
  .jaunt-thread-wrapper
    .jaunt-thread-header
      h2.title Jaunts
    .jaunt-wrapper
      .jaunt-header
        h2.jaunt-title #{jaunt.name}
      .jaunt-content
        .jaunt-van-thread-wrapper
          -for (var j = 0; j < jaunt.vans.length; j++)
            -var van = jaunt.vans[j];
            .jaunt-van-wrapper
              h3.jaunt-van-title #{van.name}
              .jaunt-van-driver #{van.driver}
              .jaunt-rushee-thread-wrapper
                .jaunt-rushee-thread-header
                  h4.jaunt-rushee-thread-title Rushees
                .jaunt-rushee-thread-content
                  -for (var j = 0; j < van.rushees.length; j++)
                    -var rushee = van.rushees[j];
                    .jaunt-rushee-wrapper
                      .jaunt-rushee-content
                        .jaunt-rushee-name
                          a(href=basepath+'/vote?rID='+rushee._id) #{rushee.name}
              .jaunt-brother-thread-wrapper
                .jaunt-brother-thread-header
                  h4.jaunt-brother-thread-title Brothers
                .jaunt-brother-thread-content
                  -for (var j = 0; j < van.brothers.length; j++)
                    -var brother = van.brothers[j];
                    .jaunt-brother-wrapper
                      .jaunt-brother-content
                        .jaunt-brother-name
                          a(href=basepath+'/viewbrother?bID='+brother._id) #{brother.name}
  .van-action-wrapper
    h2.title Add a van
    form.van-action-content(method='post',action='#')
      input(type='hidden',name='jID',value='#{jaunt._id}')
      .van-action-item
        span.van-action-name Name
        input.van-action-input(type='text',required,name = 'vName')
      .van-action-item
        span.van-action-name Driver name
        input.van-action-input(type='text',required,name = 'vDriver')
      .van-post
        input#save(type='submit',value='Submit')
                 
  .comment-thread-wrapper
    h2.title Related Comments
    ul.comment-thread-content
      - for (var i = 0; i < jaunt.comments.length; i++)	
        -var comment = jaunt.comments[i];
        li.comment-wrapper
          .comment-content
            .comment-header
              span.comment-header-element.comment-name #{comment.brother.name}
              span.comment-header-element.comment-type(style='color:#{comment.type.color};') #{comment.type.name}
              -if (comment.jaunt !== undefined)
                span.comment-header-element.comment-jaunt #{comment.jaunt.name}
              span.comment-header-element.comment-rushee #{comment.rushee.name}
            .comment-text #{comment.text}
            .comment-time #{comment.time}
        